{% extends "base.htm.j2" %}

{% block custom_css %}
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bootstrap-datetimepicker.css') }}">
{% endblock %}

{% block content %}

<h1>Assignments for {{ course.name }}</h1>

<form class="container" action="{{ url_for('update_assignments', course_id=course.id) }}" method="post">
	{% for assignment in assignments %}
	<div class="row {{ loop.cycle('odd', '') }}">
		<div class="col-xs-12 col-sm-6 col-md-3">
			<p><strong>{{ assignment.name }} ({{ assignment.id }})</strong></p>
			{% if assignment.is_quiz_assignment %}
				<p>Quiz</p>
			{% else %}
				<p>Assignment</p>
			{% endif %}
		</div>
		<div class="col-xs-12 col-sm-6 col-md-3">
			<label for="{{ assignment.id }}-due_at">Due At:</label>
			<div class='input-group date picker'>
				<input name="{{ assignment.id }}-due_at" type="text" class="form-control"
				{% if assignment.due_at_date %}
					value="{{ assignment.due_at_date | utc_datetime_to_local_str }}"
				{% endif %}
				>
				<span class="input-group-addon">
					<span class="glyphicon glyphicon-calendar"></span>
				</span>
			</div>
			<label for="{{ assignment.id }}-published">Published:</label>
			<input name="{{ assignment.id }}-published" type="checkbox" class="form-check"
			{% if assignment.published %}
				checked
			{% endif %}
			>
		</div>
		<div class="col-xs-12 col-sm-6 col-md-3">
			<label for="{{ assignment.id }}-unlock_at">Available From:</label>
			<div class='input-group date picker'>
				<input name="{{ assignment.id }}-unlock_at" type="text" class="form-control"
				{% if assignment.unlock_at_date %}
					value="{{ assignment.unlock_at_date | utc_datetime_to_local_str }}"
				{% endif %}
				>
				<span class="input-group-addon">
					<span class="glyphicon glyphicon-calendar"></span>
				</span>
			</div>
			<label for="{{ assignment.id }}-lock_at">Available Until:</label>
			<div class='input-group date picker'>
				<input name="{{ assignment.id }}-lock_at" type="text" class="form-control"
				{% if assignment.lock_date_at %}
					value="{{ assignment.lock_at_date | utc_datetime_to_local_str }}"
				{% endif %}
				>
				<span class="input-group-addon">
					<span class="glyphicon glyphicon-calendar"></span>
				</span>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6 col-md-3">
			{% if assignment.is_quiz_assignment %}
			<label for="{{ assignment.id }}-show_correct_answers_at">Show Answers:</label>
			<div class='input-group date picker'>
				<input name="{{ assignment.id }}-show_correct_answers_at" type="text" class="form-control" value="">
				<span class="input-group-addon">
					<span class="glyphicon glyphicon-calendar"></span>
				</span>
			</div>
			<label for="{{ assignment.id }}-hide_correct_answers_at">Hide Answers:</label>
			<div class='input-group date picker'>
				<input name="{{ assignment.id }}-hide_correct_answers_at" type="text" class="form-control" value="">
				<span class="input-group-addon">
					<span class="glyphicon glyphicon-calendar"></span>
				</span>
			</div>
			{% endif %}
		</div>
	</div>
	{% endfor %}
	<input class="btn btn-success" type="submit">
</form>

{% endblock %}

{% block custom_js %}
	<script type="text/javascript" src="{{ url_for('static', filename='moment.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='bootstrap-datetimepicker.js') }}"></script>
	<script type="text/javascript">
		$(function () {
			$('.picker').datetimepicker();
		});
	</script>
{% endblock %}
